<form *ngIf="extralinkedpindetailsform" action="" [formGroup]="extralinkedpindetailsform" style="padding-left: 2%;padding-right: 2%;padding-bottom: 2%;padding-top:2%;">
  <div>     
  <div class="row">
              <div class="col-lg-4 form-group required">

                

                  <div class="input-group-prepend" >
                    <!-- <ng-select    
                    #selectlinkedpin           
                    [items]="linkedpinsarrobj[0]"
                    placeholder="Linked PINs"
                    bindLabel="description2"
                    bindValue="id"
                    [clearable]="false"
                    [virtualScroll]="true"
                    [multiple]="true"
                    appendTo="body"
                    formControlName="linkedPins"
                    (change)="ddlOnChangeEvent($event)"
                    (search)="customSearchFn($event)"
                    >
                    <ng-template ng-option-tmp let-item="item">
                      {{item.id}} - {{item.description2}}
                    </ng-template>
                    <ng-template ng-option-tmp let-item="item" let-search="searchTerm" let-index="index">
                      <span >  {{ item.id }}</span>
                </ng-template>
                    </ng-select> -->

                    <ng-select [items]="linkedpinsarrobj[0]"  placeholder="Linked PINs"
                     bindLabel="id" bindValue="id"
             [virtualScroll]="true" appendTo="body"   formControlName="linkedPins"
             (change)="ddlOnChangeEvent($event)"
             (search)="customSearchFn($event)"
             [multiple]="true"
            
            >
            <ng-template ng-option-tmp let-item="item">
              {{ item.id + "-" + item.description + "-" + item.description2 }}
            </ng-template>
            <ng-template ng-option-tmp let-item="item" let-search="searchTerm" let-index="index">
              <span >  {{ item.id }}</span>
        </ng-template>
          </ng-select>

                    
                    <!-- <igx-combo #remoteCombo class="combo" [itemsMaxHeight]="250" [itemsMinWidth]="500"
                  
                    [data]="linkedpinsarrobj" [valueKey]="'id'" [displayKey]="'id'" formControlName="linkedPins"
                    placeholder="Select Linked Pin(s)" searchPlaceholder="Search..." [filterable]="true"
                    (searchInputUpdate)="searchInputFunction($event)"
                    (change)="ddlOnChangeEvent($event)">
                    <ng-template igxComboItem let-display let-key="valueKey">
                        <div class="item">
                            <span class="id">{{ display[key] }} - </span>
                            <span class="description">{{ display.description }}</span>
                        </div>
                    </ng-template>
                </igx-combo> -->


                  </div>
              </div>
              <div class="col-lg-4 form-group required">
                <mat-checkbox
                formControlName="impactToCurrentSchedules"
                (change)="ddlOnChangeEvent($event)"><span>
                    Impact to current schedules?
                </span></mat-checkbox>
              </div>
              <div class="col-lg-4 form-group required">

                


                <!-- <ng-select
                #selectimpactedpin               
                [items]="impactedpinsarrobj"
                placeholder="Impacted PINs"
                bindValue="id"
                bindLabel="description2"
                [clearable]="false"
                [virtualScroll]="true"
                [multiple]="true"
                appendTo="body"
                formControlName="impactedPins"
                (change)="impactedpinsOnchange($event)">
                <ng-template ng-option-tmp let-item="item">
                  {{ item.id }} - {{ item.description2 }}
                </ng-template>
                </ng-select> -->

                
                <ng-select [items]="impactedpinsarrobj[0]"   placeholder="Impacted PINs"
                bindLabel="id" bindValue="id"
        [virtualScroll]="true" appendTo="body"   formControlName="impactedPins"
        (change)="ddlOnChangeEvent($event)"
        (search)="customSearchFnImpacted($event)"
        [multiple]="true"
       
       >
       <ng-template ng-option-tmp let-item="item">
         {{ item.id + "-" + item.description + "-" + item.description2 }}
       </ng-template>
       <ng-template ng-option-tmp let-item="item" let-search="searchTerm" let-index="index">
         <span >  {{ item.id }}</span>
   </ng-template>
     </ng-select>

                <!-- <igx-combo *ngIf="!showSelected" #remoteCombo class="combo" [itemsMaxHeight]="250" [itemsMinWidth]="500"
                [data]="impactedpinsarrobj" [valueKey]="'id'" [displayKey]="'id'"  formControlName="impactedPins"
                placeholder="Select Impacted Pin(s)" searchPlaceholder="Search..." [filterable]="true"
                (searchInputUpdate)="searchInputFunctionImpacted($event)"
                (change)="impactedpinsOnchange($event)">
                <ng-template igxComboItem let-display let-key="valueKey">
                    <div class="item">
                        <span class="id">{{ display[key] }} - </span>
                        <span class="description">{{ display.description }}</span>
                    </div>
                </ng-template>
            </igx-combo> -->


            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 form-group required">
                <mat-form-field style="width: 100%;">
                    <mat-label>Development Deviation</mat-label>
                    <textarea matInput
                              cdkTextareaAutosize
                              #autosize="cdkTextareaAutosize"
                              cdkAutosizeMinRows="1"
                              cdkAutosizeMaxRows="5"
                              formControlName="developmentDeviation"
                              (blur)="ddlOnChangeEvent($event)"
                              ></textarea>
                  </mat-form-field>
            </div> 
        </div>
        <div class="row">
            <div class="col-lg-4 form-group required">
                <mat-form-field>
                    <mat-label>Market Required Date *</mat-label>
                    <input matInput [matDatepicker]="picker" appendTo="body"
                    formControlName="marketingreqdate"
                    (dateChange)="netApprovalFunc($event)"
                    >
                    <mat-datepicker-toggle matSuffix [for]="picker" ></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                  </mat-form-field>
            </div>
            <div class="col-lg-4 form-group required">
                <ng-select               
                [items]="fyarrobj"
                placeholder="Financial Year *"
                bindLabel="description"
                bindValue="id"
                [clearable]="false"
                [virtualScroll]="true"
                appendTo="body"
                formControlName="financialyearId"
                (change)="ddlOnChangeEvent($event)">
                <ng-template ng-option-tmp let-item="item">
                  {{ item.description }}
                </ng-template>
                </ng-select>
            </div>
            <div class="col-lg-4 form-group required">
                <ng-select               
                [items]="quarterarrobj"
                placeholder="Quarter *"
                bindLabel="description"
                bindValue="id"
                [clearable]="false"
                [virtualScroll]="true"
                appendTo="body"
                formControlName="quarterId"
                (change)="ddlOnChangeEvent($event)">
                <ng-template ng-option-tmp let-item="item">
                  {{ item.description }}
                </ng-template>
                </ng-select>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 form-group">
                <mat-form-field>
                  <mat-label>
                      Unit Forecast
                    <!-- <span class="compulsary-mark">*</span> -->
                    </mat-label>
                  <input
                    type="text"
                    matInput
                    name="name"
                    formControlName="unitsforecast"
                    (blur)="ddlOnChangeEvent($event)"
                    maxlength="18"  appBlockCopyPaste  (keypress)="numberOnlyQA($event)"
                  />
                </mat-form-field>
            </div>
            <div class="col-lg-4 form-group required">
                <ng-select               
                [items]="currencyarrobj"
                placeholder="Revenue Currency"
                bindLabel="description"
                bindValue="id"
                [clearable]="false"
                [virtualScroll]="true"
                appendTo="body"
                formControlName="revenuecurrency"
                (change)="ddlOnChangeEvent($event)">
                <ng-template ng-option-tmp let-item="item">
                  {{ item.description }}
                </ng-template>
                </ng-select>
            </div>
            <div class="col-lg-4 form-group">
                <mat-form-field>
                  <mat-label>
                    Revenue Forecast
                    <!-- <span class="compulsary-mark">*</span> -->
                    </mat-label>
                  <input
                    type="text"
                    matInput
                    name="name"
                    formControlName="revenueforecast"
                    (blur)="ddlOnChangeEvent($event)"
                    maxlength="18"  appBlockCopyPaste  (keypress)="numberOnly($event)"
                  />
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 form-group required">
                <mat-checkbox
                formControlName="incrementalToPlan"
                (change)="ddlOnChangeEvent($event)"><span>
                    Incremental to plan?
                </span></mat-checkbox>
              </div>
              <div class="col-lg-4 form-group required">
                <mat-checkbox
                formControlName="revenueAddedToLe"
                (change)="ddlOnChangeEvent($event)"><span>
                    Revenue added to LE or plan?
                </span></mat-checkbox>
              </div>
        </div>
    </div>
</form>
<igx-dialog #decimalalert title="Extra PIN Request: Warning!" message="{{message}}" leftButtonLabel="OK" 
(leftButtonSelect)="onDialogSubmit($event)"></igx-dialog>